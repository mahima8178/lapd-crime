{
  "query": {
    "display_name": "00_uc_bootstrap",
    "warehouse_id": "ba90f266beeaacb2",
    "query_text": "-- 00_uc_bootstrap.sql\n-- Goal: create catalog + schemas (bronze/silver/gold) for UC with all necessary grants\n\n-- Grant permission to create external locations (metastore level)\nGRANT CREATE EXTERNAL LOCATION ON METASTORE TO `mahima.thakur@sigmoidanalytics.com`;\n\nCREATE CATALOG IF NOT EXISTS public_crime;\n\n-- Grant catalog-level permissions\nGRANT USE CATALOG ON CATALOG public_crime TO `mahima.thakur@sigmoidanalytics.com`;\nGRANT CREATE SCHEMA ON CATALOG public_crime TO `mahima.thakur@sigmoidanalytics.com`;\n\n-- Create schemas\nCREATE SCHEMA IF NOT EXISTS public_crime.bronze;\nCREATE SCHEMA IF NOT EXISTS public_crime.silver;\nCREATE SCHEMA IF NOT EXISTS public_crime.gold;\n\n-- Grant schema-level permissions for bronze\nGRANT USE SCHEMA ON SCHEMA public_crime.bronze TO `mahima.thakur@sigmoidanalytics.com`;\nGRANT CREATE TABLE ON SCHEMA public_crime.bronze TO `mahima.thakur@sigmoidanalytics.com`;\nGRANT MODIFY ON SCHEMA public_crime.bronze TO `mahima.thakur@sigmoidanalytics.com`;\nGRANT SELECT ON SCHEMA public_crime.bronze TO `mahima.thakur@sigmoidanalytics.com`;\nGRANT CREATE FUNCTION ON SCHEMA public_crime.bronze TO `mahima.thakur@sigmoidanalytics.com`;\n\n-- Grant schema-level permissions for silver\nGRANT USE SCHEMA ON SCHEMA public_crime.silver TO `mahima.thakur@sigmoidanalytics.com`;\nGRANT CREATE TABLE ON SCHEMA public_crime.silver TO `mahima.thakur@sigmoidanalytics.com`;\nGRANT MODIFY ON SCHEMA public_crime.silver TO `mahima.thakur@sigmoidanalytics.com`;\nGRANT SELECT ON SCHEMA public_crime.silver TO `mahima.thakur@sigmoidanalytics.com`;\nGRANT CREATE FUNCTION ON SCHEMA public_crime.silver TO `mahima.thakur@sigmoidanalytics.com`;\n\n-- Grant schema-level permissions for gold\nGRANT USE SCHEMA ON SCHEMA public_crime.gold TO `mahima.thakur@sigmoidanalytics.com`;\nGRANT CREATE TABLE ON SCHEMA public_crime.gold TO `mahima.thakur@sigmoidanalytics.com`;\nGRANT MODIFY ON SCHEMA public_crime.gold TO `mahima.thakur@sigmoidanalytics.com`;\nGRANT SELECT ON SCHEMA public_crime.gold TO `mahima.thakur@sigmoidanalytics.com`;\nGRANT CREATE FUNCTION ON SCHEMA public_crime.gold TO `mahima.thakur@sigmoidanalytics.com`;\n\n-- Quick sanity\nSHOW CATALOGS;\nSHOW SCHEMAS IN public_crime;\n\n"
  }
}
